{{ attach_library('landportal/projects-carousel') }}

{% set block_base_class = 'projects-block' %}
{% set block_label = block_region ~ ' ' ~ 'projects'|t %}

<div {{ bem(block_base_class) }}>
  <div {{ bem('intro', [], block_base_class) }}>
    {% if block_label %}
      {% include "@atoms/text/headings/_heading.twig" with {
        heading_level: 2,
        heading: block_region,
        heading_modifiers: [block_base_class]
      } %}
      {% include "@atoms/text/headings/_heading.twig" with {
        heading_level: 2,
        heading: 'projects'|t ,
        heading_modifiers: [block_base_class]
      } %}
    {% endif %}
  </div>
  <div {{ bem('projects', [], block_base_class) }}>
    <div {{ bem('header', [], block_base_class) }}>
      <a class="link" href="{{ more_url }}">{{ more_label }}</a>
    </div>
  <div {{ bem('carousel', [], block_base_class) }} }}>
    <div class="swiper-container projects-swiper-container">
      {% block carousel_content %}
        <div class="swiper-wrapper">
        {% for item in items %}
          <div class="swiper-slide">
            {% include "@molecules/project-card/project-card.twig" with {
              item_title: item.item_title,
              item_url: item.item_url,
              external_image_src: item.external_image_src,
              image_src: item.image_src,
              image_title: item.image_title,
              image_alt: item.image_alt,
              item_duration_from: item.item_duration_from,
              item_duration_to: item.item_duration_to,
              item_value: item.item_value,
              item_value_currency: item.item_value_currency,
              item_donors: item.item_donors,
              item_summary: item.item_summary,
              card__block_class: block_base_class
            } %}
          </div>
        {% endfor %}
        </div>
      {% endblock %}
      <div class="swiper-pagination"></div>
    </div>
  </div>
</div>
</div>
